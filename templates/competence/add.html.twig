{% extends 'base.html.twig' %}

{% block title %}Ajout d'une compétence{% endblock %}

{% block body %}

    <h1>Quelle compétence souhaitez-vous créer ?</h1>

    {{ form_start(formCompetence) }}
    {{ form_row(formCompetence.intitule) }}
    {{ form_row(formCompetence.domaine) }}
	{{ form_row(formCompetence.synopsis) }}
	{{ form_row(formCompetence.description) }}

    <h2 class="center">Choisissez vos composants</h2>
	{# <div class="form-group row ">
		<div class="col-form-label col-sm-2">&nbsp;</div>
		<div id="composant-fields-list" class="col-sm-10 remove-collection-widget" data-prototype="{{ form_widget(formCompetence.composants.vars.prototype)|e }}" data-competence="{{competenceId}}" data-widget-tags="{{ '<p></p>'|e }}" data-widget-counter="{{ formCompetence.composants|length }}">
			{% for composantField in formCompetence.composants %}
				<p>
					{{ form_errors(composantField) }}
					{{ form_widget(composantField, {'attr': {'class': 'borders'}}) }}
				</p>
			{% endfor %}
		</div>
	</div>
	<div class="form-group row flex-action">
		<button type="button" class="add-another-collection-widget btn btn-primary" data-list-selector="#composant-fields-list">Ajouter un composant</button>
	</div> #}
	{# empêche l'apparition d'une légende "composants", si la collection est vide (en cas de création d'une nouvelle compétence) #}
	<div class="container">
		<div class="grid">
		<pre>
			{{ dump(composants) }}
		</pre>
			{% for composant in composants %}
				{% include "commposant/card.html.twig" with {composant: composant} only %}
			{% endfor %}
		</div>
	</div>
	{# {% do formCompetence.composants.setRendered %} #}

	{{ form_end(formCompetence) }}
{% endblock %}