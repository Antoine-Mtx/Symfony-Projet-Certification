{% extends 'base.html.twig' %}

{% block title %}Mathématiques{% endblock %}

{% block body %}

<p><a class="btn btn-success my-3"href="{{ path('add_domaine') }}">Ajouter un domaine</a></p>

<div class="card border bg-transparent rounded-3 my-3">
    <!-- Card header START -->
    <div class="card-header bg-transparent border-bottom">
        <h3 class="mb-0">Liste des domaines</h3>
    </div>
    <!-- Card header END -->

    <!-- Card body START -->
    <div class="card-body">

        <!-- Search and select START -->
        <div class="row g-3 align-items-center justify-content-between mb-4">
            <!-- Search -->
            {# <div class="col-md-8">
                {{ form_start(searchForm) }}
                    {{ form_row(searchForm.mots, { 'attr': {'value': mots} }) }}
                {{ form_end(searchForm) }}
            </div> #}

            <!-- Select option -->
            <div class="col-md-3">
                <!-- Short by filter -->
                {# <form>

                </form> #}
            </div>
        </div>
        <!-- Search and select END -->

        <!-- Course list table START -->
        <div class="table-responsive border-0">
            <table class="table table-dark-gray align-middle p-4 mb-0 table-hover">
                <!-- Table head -->
                <thead>
                    <tr>
                        <th scope="col" class="border-0 rounded-start">Domaine</th>
                        <th scope="col" class="border-0 rounded-end">Action</th>
                    </tr>
                </thead>

                <!-- Table body START -->
                <tbody>
                    <!-- Table item -->
                    {% for domaine in domaines %}
                        <tr>
                            <!-- domaines -->
                            <td>
                                <div class="d-flex align-items-center">
                                    <!-- Image -->
                                    <div class="w-60px">
                                        <img src="assets/images/courses/4by3/08.jpg" class="rounded" alt="">
                                    </div>
                                    <div class="mb-0 ms-2">
                                        <!-- Title -->
                                        <h6><a href="{{ path('show_domaine', {'id': domaine.id}) }}">{{ domaine }}</a></h6>
                                        <!-- Info -->
                                        <div class="d-sm-flex">
                                            {% if domaine.competences != [] %}
                                                <p class="h6 fw-light mb-0 small me-3">{{ domaine.competences | length }} {% if domaine.competences | length > 1 %}compétences{% else %}compétence{% endif %}</a></p>
                                            {% else %}
                                                <p class="h6 fw-light mb-0 small me-3">aucune compétence dans ce domaine pour le moment</p>
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                            </td>
                            <!-- Action item -->
                            <td>
                                <a href="{{ path('update_domaine', {'id': domaine.id }) }}" class="btn btn-sm btn-success btn-round me-1 mb-0"><i class="far fa-fw fa-edit"></i></a>
                                <a href="{{ path('delete_domaine', {'id': domaine.id }) }}" onclick="return confirm('Voulez-vous vraiment supprimer ce domaine ?')" class="btn btn-sm btn-danger btn-round me-1 mb-0"><i class="fas fa-fw fa-times"></i></a>
                            </td>
                        </tr>                            
                    {% endfor %}
                </tbody>
                <!-- Table body END -->
            </table>
        </div>
        <!-- Course list table END -->

{% endblock %}
